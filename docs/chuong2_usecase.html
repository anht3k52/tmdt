<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chương 2 – Phân tích và thiết kế: Use Case và Đặc tả</title>
  <style>
    body{font-family:Segoe UI,Roboto,Arial,Helvetica,sans-serif;margin:24px;line-height:1.6;max-width:980px}
    h1,h2,h3{margin:16px 0 8px}
    h2{border-bottom:1px solid #ddd;padding-bottom:4px}
    table{border-collapse:collapse;width:100%;margin:12px 0}
    th,td{border:1px solid #ccc;padding:8px;vertical-align:top}
    .muted{color:#666}
    .box{margin:16px 0}
    .figure{font-size:14px;color:#666}
  </style>
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true, theme: 'default' });
  </script>
</head>
<body>
  <h1>CHƯƠNG 2: PHÂN TÍCH VÀ THIẾT KẾ HỆ THỐNG</h1>

  <h2 id="2-1">2.1. Biểu đồ use case</h2>
  <div class="box">
  <pre class="mermaid">
flowchart LR
  %% Actors
  SV["Sinh viên"]:::actor
  GV["Giảng viên"]:::actor
  CBGD["Cán bộ đào tạo"]:::actor
  QT["Quản trị hệ thống"]:::actor

  %% Use cases
  UC_Login([Đăng nhập])
  UC_SV([Quản lý sinh viên])
  UC_Course([Quản lý môn học])
  UC_Semester([Quản lý học kỳ])
  UC_Enroll([Quản lý đăng ký học phần])
  UC_Grade([Quản lý điểm])
  UC_Report([Báo cáo/Thống kê])

  SV --> UC_Login
  SV --> UC_Enroll
  SV --> UC_Report

  GV --> UC_Login
  GV --> UC_Grade
  GV --> UC_Report

  CBGD --> UC_Login
  CBGD --> UC_SV
  CBGD --> UC_Course
  CBGD --> UC_Semester
  CBGD --> UC_Enroll
  CBGD --> UC_Report

  QT --> UC_Login
  QT --> UC_SV
  QT --> UC_Course
  QT --> UC_Semester
  QT --> UC_Enroll
  QT --> UC_Grade
  QT --> UC_Report

  classDef actor fill:#fff,stroke:#333,stroke-width:1px;
  </pre>
  </div>
  <div class="figure">Hình 2‑1. Biểu đồ Use Case tổng quan hệ thống</div>

  <h2 id="2-2">2.2. Đặc tả use case</h2>
  <p class="muted">Các đặc tả sau mô tả mục tiêu, tác nhân, điều kiện và dòng sự kiện cho từng chức năng chính.</p>

  <h3 id="2-2-1">2.2.1. Use case quản lý sinh viên</h3>
  <table>
    <tr><th>Tên</th><td>Quản lý sinh viên</td></tr>
    <tr><th>Tác nhân</th><td>Cán bộ đào tạo (CBĐT), Quản trị</td></tr>
    <tr><th>Mục tiêu</th><td>Thêm/Sửa/Xóa và tra cứu hồ sơ sinh viên</td></tr>
    <tr><th>Tiền điều kiện</th><td>Đã đăng nhập; có quyền quản trị danh mục</td></tr>
    <tr><th>Dòng sự kiện chính</th><td>
      1) Mở màn hình Sinh viên<br/>
      2) Xem danh sách, tìm kiếm theo mã/tên/lớp<br/>
      3) Thêm mới hoặc chỉnh sửa thông tin; lưu thay đổi<br/>
      4) Xóa khi cần (nếu không vi phạm ràng buộc đăng ký)
    </td></tr>
    <tr><th>Ngoại lệ</th><td>Mã sinh viên trùng; dữ liệu không hợp lệ; đang tồn tại đăng ký liên quan</td></tr>
    <tr><th>Hậu điều kiện</th><td>Dữ liệu sinh viên được cập nhật nhất quán</td></tr>
  </table>

  <h3 id="2-2-2">2.2.2. Use case quản lý đăng ký học phần</h3>
  <table>
    <tr><th>Tên</th><td>Quản lý đăng ký học phần</td></tr>
    <tr><th>Tác nhân</th><td>Sinh viên, Cán bộ đào tạo, Quản trị</td></tr>
    <tr><th>Mục tiêu</th><td>Đăng ký/điều chỉnh danh sách môn học theo học kỳ</td></tr>
    <tr><th>Tiền điều kiện</th><td>Đã tồn tại Sinh viên, Môn học, Học kỳ</td></tr>
    <tr><th>Dòng sự kiện chính</th><td>
      1) Chọn học kỳ<br/>
      2) Chọn môn học cần đăng ký<br/>
      3) Lưu đăng ký; hệ thống kiểm tra trùng lặp (SV, Môn, Học kỳ)<br/>
      4) Hiển thị danh sách đăng ký hiện tại
    </td></tr>
    <tr><th>Ngoại lệ</th><td>Đăng ký trùng; môn không tồn tại; học kỳ không hợp lệ</td></tr>
    <tr><th>Hậu điều kiện</th><td>Bảng đăng ký được cập nhật; đảm bảo unique (StudentId, CourseId, SemesterId)</td></tr>
  </table>

  <h3 id="2-2-3">2.2.3. Use case quản lý điểm (kết quả học tập)</h3>
  <table>
    <tr><th>Tên</th><td>Quản lý điểm</td></tr>
    <tr><th>Tác nhân</th><td>Giảng viên, Quản trị</td></tr>
    <tr><th>Mục tiêu</th><td>Nhập/cập nhật điểm cho sinh viên theo lớp môn – học kỳ</td></tr>
    <tr><th>Tiền điều kiện</th><td>Đã có đăng ký học phần tương ứng</td></tr>
    <tr><th>Dòng sự kiện chính</th><td>
      1) Chọn học kỳ và môn học<br/>
      2) Tải danh sách sinh viên đã đăng ký<br/>
      3) Nhập/cập nhật điểm (0..10)<br/>
      4) Lưu và hiển thị kết quả
    </td></tr>
    <tr><th>Ngoại lệ</th><td>Điểm ngoài phạm vi; không có đăng ký</td></tr>
    <tr><th>Hậu điều kiện</th><td>Điểm được lưu; có thể dùng cho báo cáo</td></tr>
  </table>

  <h3 id="2-2-4">2.2.4. Use case quản lý môn học</h3>
  <table>
    <tr><th>Tên</th><td>Quản lý môn học</td></tr>
    <tr><th>Tác nhân</th><td>Cán bộ đào tạo, Quản trị</td></tr>
    <tr><th>Mục tiêu</th><td>Thêm/Sửa/Xóa môn học (mã, tên, tín chỉ)</td></tr>
    <tr><th>Tiền điều kiện</th><td>Đã đăng nhập; có quyền quản trị danh mục</td></tr>
    <tr><th>Dòng sự kiện chính</th><td>
      1) Mở màn hình Môn học; xem danh sách<br/>
      2) Thêm/sửa thuộc tính môn; lưu thay đổi<br/>
      3) Xóa khi không còn ràng buộc đăng ký
    </td></tr>
    <tr><th>Ngoại lệ</th><td>Mã môn trùng; ràng buộc với đăng ký/điểm</td></tr>
    <tr><th>Hậu điều kiện</th><td>Danh mục môn học được cập nhật nhất quán</td></tr>
  </table>

  <h3 id="2-2-5">2.2.5. Use case quản lý học kỳ</h3>
  <table>
    <tr><th>Tên</th><td>Quản lý học kỳ</td></tr>
    <tr><th>Tác nhân</th><td>Cán bộ đào tạo, Quản trị</td></tr>
    <tr><th>Mục tiêu</th><td>Quản lý mã học kỳ (ví dụ 2025-1) và tên hiển thị</td></tr>
    <tr><th>Tiền điều kiện</th><td>Đã đăng nhập; có quyền quản trị danh mục</td></tr>
    <tr><th>Dòng sự kiện chính</th><td>
      1) Mở màn hình Học kỳ; xem danh sách<br/>
      2) Thêm/sửa mã và tên học kỳ; lưu thay đổi<br/>
      3) Xóa khi không còn đăng ký liên quan
    </td></tr>
    <tr><th>Ngoại lệ</th><td>Mã học kỳ trùng; đang được tham chiếu bởi đăng ký</td></tr>
    <tr><th>Hậu điều kiện</th><td>Danh mục học kỳ được cập nhật; mã học kỳ duy nhất</td></tr>
  </table>

  <p class="muted">Ghi chú: Sơ đồ và đặc tả được xây dựng khớp với cấu trúc mã nguồn hiện tại (WinForms + EF Core, bảng Students, Courses, Semesters, Enrollments).</p>
</body>
</html>
